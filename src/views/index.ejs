<!DOCTYPE html>
<html lang="en">
  <%- include("header") %>
  <body>
    <header class="content | mar-v-m pad-v-m bg-n-000">
      <div class="breakout-l | row main-axis-space-between cross-axis-center">
	<a class="logo" href="/" aria-label="Home"></a>
	<div class="control-btns { row gap-m }">
	  <button class="btn-theme pad-h-d-sm-m clr-n-700" aria-label="Links" data-status="active">
	    <span class="row gap-sm cross-axis-center">
	      <svg xmlns="http://www.w3.org/2000/svg"
		   width="21"
		   height="20"
		   fill="none"
		   viewBox="0 0 21 20">
		<path
		  fill="currentColor"
		  d="M11.154 14.65a.936.936 0 0 1 0 1.329l-.464.464a4.689
		     4.689 0 1 1-6.631-6.631l1.884-1.884a4.687 4.687 0 0 1
		     6.432-.194.941.941 0 0 1-1.25 1.407 2.813 2.813 0 0
		     0-3.857.114l-1.883 1.882a2.813 2.813 0 1 0 3.978
		     3.978l.464-.464a.936.936 0 0 1 1.327 0ZM16.94
		     3.558a4.695 4.695 0 0 0-6.63 0l-.465.464a.94.94 0 1 0
		     1.328 1.328l.464-.464a2.813 2.813 0 0 1 3.978
		     3.978l-1.883 1.885a2.813 2.813 0 0 1-3.858.111.942.942 0
		     0 0-1.25 1.407 4.688 4.688 0 0 0
		     6.43-.19l1.884-1.884a4.695 4.695 0 0 0
		     .002-6.633v-.002Z"/>
	      </svg>
	      <span class="m--display-none">Links</span>
	    </span>
	  </button>
	  <button class="btn-theme pad-h-d-sm-m clr-n-700" aria-label="Profile details">
	    <span class="row gap-sm cross-axis-center">
	      <svg xmlns="http://www.w3.org/2000/svg"
		   width="21"
		   height="20"
		   fill="none"
		   viewBox="0 0 21 20">
		<path
		  fill="currentColor"
		  d="M10.5 1.563A8.437 8.437 0 1 0 18.938 10 8.447 8.447
		     0 0 0 10.5 1.562ZM6.716 15.357a4.688 4.688 0 0 1
		     7.568 0 6.54 6.54 0 0 1-7.568 0Zm1.596-5.982a2.188
		     2.188 0 1 1 4.376 0 2.188 2.188 0 0 1-4.376 0Zm7.344
		     4.683a6.523 6.523 0 0 0-2.265-1.83 4.062 4.062 0 1
		     0-5.782 0 6.522 6.522 0 0 0-2.265 1.83 6.562 6.562
		     0 1 1 10.304 0h.008Z"/>
	      </svg>
	      <span class="m--display-none">Profile Details</span>
	    </span>
	  </button>
	</div>
	<div class="row gap-m">
	  <a href="/preview"
	     class="preview-link { btn-theme pad-h-d-sm-m border-clr-p-purple clr-p-purple }"
	     aria-label="Go to Preview page"
	     data-visible="true">
	    <div class="row gap-sm">
	      <img class="md--display-none" alt="" src="/public/images/icons/icon-preview-header.svg">
	      <span class="m--display-none">Preview</span>
	    </div>
	  </a>
	  <button class="logout-btn { btn-theme pad-h-d-sm-m bg-p-purple clr-n-000 }">
	    <div class="row gap-sm main-axis-center cross-axis-center">
	      <img class="md--display-none" alt="" src="/public/images/icons/icon-logout.svg">
	      <span class="m--display-none">Log out</span>
	      <img
		class="clock-spinner"
		data-visible="false"
		height="14"
		width="14"
		alt=""
		src="/public/images/icons/clock.svg">
	    </div>
	  </button>
	</div>
      </div>
    </header>
    <main class="content">
      <h1 class="sr-only">Linksharing app</h1>
      <div class="row no-wrap gap-m">
	<section class="m--display-none grid cross-axis-center bg-n-000">
	  <h2 class="sr-only">Phone mockup illustration</h2>
	  <div class="[ relative ] phone-mockup">
	    <img src="/public/images/illustration-phone-mockup.svg" alt="">
	    <img class="[ absolute ] phone-mockup-avatar"
		 src="<%= user.avatar ? user.avatar : '/public/images/icons/icon-upload-image.svg' %>"
		 style="<%= user.avatar ? 'object-fit: cover;' : 'object-fit: scale-down;' %>"
		 alt="">
	    <div class="[ absolute ] phone-mockup-name { text-center fw-semibold fs-500 clr-n-800 }"><%= user.name.split(" ")[0] %> <%= user.name.split(" ")[1] %></div>
	    <div class="[ absolute ] phone-mockup-email { text-center fs-300 }"><%= user.email %></div>
	    <% links.forEach(item => { %>
	      <div
		class="phone-mockup-badge { row cross-axis-center <%= item.bgColor %> clr-n-000 border-radius-sm }"	      
		style="--image_path: url('/public/images/icons/<%= item.whiteIcon %>');">
		<%= item.source %>
	      </div>
	    <% }) %>
	  </div>
	</section>
	<section class="flex-1 | column gap-m bg-n-000 main-axis-space-between">
	  <h2 class="sr-only">Links and personal info</h2>
	  <section>
            <h3 class="clr-n-800 fs-d-600-800">Customize your links</h3>
            <p class="mar-bottom-l">Add/edit/remove links below and then share all your profiles with the world!</p>
	    <article>
	      <h4 class="sr-only">List of links</h4>
	      <div class="grid mar-bottom-l">
		<button class="add-new-link-btn { btn-theme border-clr-p-purple clr-p-purple }"	<% if (links.length === 5) { %>disabled<% } %>>+ Add new link</button>
	      </div>
	      <ul class="user-links { column gap-m pad-v-sm }">
		<% links.forEach(item => { %>
		  <%- include("link", { index: links.indexOf(item) + 1, link: item }) %>
		<% }) %>
	      </ul>
	    </article>
          </section>
	  <section hidden>
	    <h3 class="clr-n-800 fs-d-600-800">Profile Details</h3>
            <p class="mar-bottom-l">Add your details to create a personal touch to your profile.</p>
	    <article class="column gap-m overflow-y-auto">
	      <h4 class="sr-only">Profile information</h4>
	      <p id="userId" hidden><%= user.userId %></p>
	      <section class="bg-n-100">
		<div class="grid break-20ch cross-axis-center">
		  <h5 class="fw-normal fs-400">Profile picture</h5>
		  <div class="grid gap-m break-15ch cross-axis-center">
		    <div class="[ relative ]">
		      <button
			class="upload-image-btn { bg-p-purple-ter border-radius-sm }"			
			<% if (user.avatar) { %>
			style="background-image: linear-gradient(rgba(255,255,255,0.7), rgba(255,255,255,0.7)), url('<%= user.avatar %>');"
			<% } %>>
			<span class="column main-axis-center cross-axis-center">
			  <img alt="" src="/public/images/icons/icon-upload-image.svg">
			  <span class="fw-semibold clr-p-purple"><% if (user.avatar) { %>Change Image<% } else { %>+ Upload Image<% } %></span>
			</span>
		      </button>
		      <button class="[ absolute ] clear-image-btn"
			      aria-label="Clear image"
			      <% if (!user.avatar) { %>data-visible="false"<% } %>
		      </button>
		    </div>
		    <small class="warnings"><span>Image must be below 1024x1024px.</span> <span>Use PNG, JPG or BMP format.</span></small>
		  </div>
		</div>
	      </section>
	      <section class="column gap-sm bg-n-100">
		<h4 class="sr-only">Name and email</h4>
		<div class="grid break-20ch cross-axis-center">
		  <label class="fs-d-200-400" for="first_name">First name*</label>
		  <input id="first_name"
			 size="1"
			 maxlength="15"
			 type="text"
			 class="border-radius-sm border-clr-n-400 pad-sm"
			 value="<%= user.name.split(' ')[0] %>">
		</div>
		<div class="grid break-20ch cross-axis-center">
		  <label class="fs-d-200-400" for="last_name">Last name*</label>
		  <input id="last_name"
			 size="1"
			 maxlength="20"
			 type="text"
			 class="border-radius-sm border-clr-n-400 pad-sm"
			 value="<%= user.name.split(' ')[1] %>">
		</div>
		<div class="grid break-20ch cross-axis-center">
		  <label class="fs-d-200-400" for="email">Email</label>
		  <input id="email"
			 size="1"
			 maxlength="40"
			 type="email"
			 class="border-radius-sm border-clr-n-400 pad-sm"
			 value="<%= user.email %>">
		</div>
	      </section>
	    </article>
	  </section>
          <footer class="grid md--main-axis-end">
            <button class="save-btn { btn-theme bg-p-purple clr-n-000 }" disabled>
	      <div class="row gap-sm main-axis-center cross-axis-center">
		Save
		<img
		  class="clock-spinner"
		  data-visible="false"
		  height="14"
		  width="14"
		  alt=""
		  src="/public/images/icons/clock.svg">
	      </div>
	    </button>
	  </footer>
	</section>
      </div>
    </main>

    <script type="module" src="/public/js/index.js"></script>
  </body>

</html>
